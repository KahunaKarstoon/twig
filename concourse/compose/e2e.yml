test-runner:
    image: trion/ng-cli-e2e
    links:
    - e2e-web
    volumes:
      - ../../:/twig
    command: 'true'


# couchdb server deployment
e2e-couch:
    image: couchdb
    ports:
      - 5984:5984

# Server deployment
e2e-api:
    image: benaychh/twig-api
    environment:
      TWIG_API_DB_URL: 'http://e2e-couch:5984'
      TWIG_API_LDAP_URL: 'ldap://10.10.243.43'
    ports:
      - 3000:3000
    links:
    - couch

# Client deployment
e2e-web:
    image: benaychh/twig
    ports:
      - 8080:80
    links:
    - api
